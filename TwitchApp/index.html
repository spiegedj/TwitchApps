<!DOCTYPE html>
<html>
<head>
    <title>Desktop</title>

    <!-- Insert this line above script imports  -->
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

    <!-- Insert this line after script imports -->
    <script>if (window.module) module = window.module;</script>

    <script src="Scripts/mainController.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="Styles/main.css" />

</head>
<body ng-app="twitchApp" ng-controller="mainController">

    <!-- Tabs -->
    <div class="tabs">
        <div ng-repeat="tab in tabs" ng-mousedown="selectTab(tab)" class="tab-tile" ng-class="{'selected': tab === selectedTab}">
            <img ng-src="{{tab.imageURL}}" class="tab-logo"/>
            <!--<div class="tab-title">{{ tab.title }}</div>-->
        </div>
    </div>

    <!-- Stream Tiles -->
    <div class="stream-tiles">
        <div ng-click="pageUp()" class="stream-tile stream-page-up" ng-class="{'disabled': startTile === 0}">
            <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
        </div>


        <div ng-repeat="stream in streams.slice(startTile, startTile + maxTiles)" 
            ng-mouseover="selectStream(stream)" class="stream-tile" ng-class="{'selected': stream === selectedStream}" >
            <img ng-src="{{stream.imageURL}}" class="stream-logo" draggable="false"/>
            <div class="stream-line stream-title">{{ stream.title }}</div>
            <div class="stream-line">{{ stream.game }}</div>
            <div class="stream-line">
                <div class="live-indicator"></div>
                {{ stream.viewers }}
            </div>
        </div>

        <div ng-click="pageDown()" class="stream-tile stream-page-down" ng-class="{'disabled': startTile + maxTiles > streams.length}">
            <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
        </div>
    </div>

    <!-- Stream Details -->
    <div class="stream-selected">
        <div class="selected-preview-container">
            <div class="selected-title">{{ selectedStream.title }}</div>

            <img ng-src="{{ selectedStream.preview }}" ng-mousedown="launchStream(selectedStream)" class="selected-preview"/>
            
            <!--<iframe
                ng-src="{{getStreamSrc(selectedStream.title)}}"
                height="720"
                width="1280"
                frameborder="0"
                scrolling="no"
                allowfullscreen="true"
                class="selected-preview">
            </iframe>-->

            <div class="float-right"> 
                <span class="selected-text selected-viewers">{{ selectedStream.viewers }}</span>
            </div>

            <div class="selected-details">{{ selectedStream.details }}</div>
            <div class="selected-text">{{ selectedStream.game }}</div>
        </div>
    </div>
</body>
</html>
